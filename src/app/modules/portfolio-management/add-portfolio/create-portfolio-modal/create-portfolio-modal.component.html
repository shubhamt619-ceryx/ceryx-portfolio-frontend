<ng-container *ngIf="isLoading">
  <div class="progress progress-modal">
    <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" role="progressbar"
      style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
  </div>
</ng-container>
  <p-toast></p-toast> 
<div class="modal-header">
  <div class="modal-title h4">Create portfolio</div>
</div>
<div class="modal-body">
  <ng-container *ngIf="isLoading">
    <span>Saving portfolio...</span>
    <p-messages position="top-center"></p-messages>
  </ng-container>

  <ng-container *ngIf="!isLoading">
    <div class="form-group">
      <label>Name / Alias</label>
      <input type="text" class="form-control" placeholder="" value="" [(ngModel)]="name"
        [ngModelOptions]="{standalone: true}" />
      <span class="form-text text-muted">Please enter portfolio name.</span>
    </div>
    <div class="row" *ngIf="!isPerpetual">
      <div class="col-xl-3">
        <div class="form-group">
          <label>Start date</label>
          <br>
          <p-calendar [(ngModel)]="startDate" [ngModelOptions]="{standalone: true}"></p-calendar>
        </div>
      </div>
      <div class="col-xl-3">
        <div class="form-group">
          <label>End Date</label>
          <br>
          <p-calendar [(ngModel)]="endDate" [ngModelOptions]="{standalone: true}"></p-calendar>
        </div>
      </div>
    </div>
    <div class="form-group">
      <mat-checkbox [(ngModel)]="isPerpetual" [ngModelOptions]="{standalone: true}">Is Perpetual ?</mat-checkbox>
      <br>
      <mat-checkbox [(ngModel)]="isPasswordProtected" [ngModelOptions]="{standalone: true}">Add Password protection ?
      </mat-checkbox>
    </div>
    <div class="row" *ngIf="isPasswordProtected">
      <div class="col-xl-3">
        <div class="form-group">
          <label>Username</label>
          <input type="text" class="form-control" placeholder="Username" value="" [(ngModel)]="username" />
        </div>
      </div>
      <div class="col-xl-3">
        <div class="form-group">
          <label>Password</label>
          <input type="password" class="form-control" placeholder="Password" value="" [(ngModel)]="password" />
        </div>
      </div>
    </div>
  </ng-container>
</div>

<div class="modal-footer">
  <div>
    <button type="button" class="btn btn-light btn-elevate mr-1" (click)="modal.dismiss()">
      Cancel
    </button>&nbsp;
    <button type="button" pButton pRipple  class="btn btn-primary btn-elevate" (click)="validateForm()">
      Save
    </button>
  </div>
</div>